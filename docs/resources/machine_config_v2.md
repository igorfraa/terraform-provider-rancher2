---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rancher2_machine_config_v2 Resource - terraform-provider-rancher2"
subcategory: ""
description: |-
  
---

# rancher2_machine_config_v2 (Resource)





<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **generate_name** (String) Cluster V2 generate name. The pattern to generate machine config name. e.g  generate_name="prod-pool1" will generate "nc-prod-pool1-?????" names

### Optional

- **amazonec2_config** (Block List, Max: 1) (see [below for nested schema](#nestedblock--amazonec2_config))
- **annotations** (Map of String) Annotations of the resource
- **azure_config** (Block List, Max: 1) (see [below for nested schema](#nestedblock--azure_config))
- **digitalocean_config** (Block List, Max: 1) (see [below for nested schema](#nestedblock--digitalocean_config))
- **fleet_namespace** (String)
- **harvester_config** (Block List, Max: 1) (see [below for nested schema](#nestedblock--harvester_config))
- **id** (String) The ID of this resource.
- **labels** (Map of String) Labels of the resource
- **linode_config** (Block List, Max: 1) (see [below for nested schema](#nestedblock--linode_config))
- **openstack_config** (Block List, Max: 1) (see [below for nested schema](#nestedblock--openstack_config))
- **timeouts** (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- **vsphere_config** (Block List, Max: 1) (see [below for nested schema](#nestedblock--vsphere_config))

### Read-Only

- **kind** (String)
- **name** (String)
- **resource_version** (String)

<a id="nestedblock--amazonec2_config"></a>
### Nested Schema for `amazonec2_config`

Required:

- **ami** (String) AWS machine image
- **region** (String) AWS Region
- **security_group** (List of String) AWS VPC security group
- **subnet_id** (String) AWS VPC subnet id
- **vpc_id** (String) AWS VPC id
- **zone** (String) AWS zone for instance (i.e. a,b,c,d,e)

Optional:

- **access_key** (String, Sensitive) AWS Access Key
- **block_duration_minutes** (String) AWS spot instance duration in minutes (60, 120, 180, 240, 300, or 360)
- **device_name** (String) AWS root device name
- **encrypt_ebs_volume** (Boolean) Encrypt EBS volume
- **endpoint** (String) Optional endpoint URL (hostname only or fully qualified URI)
- **http_endpoint** (String) Enables or disables the HTTP metadata endpoint on your instances
- **http_tokens** (String) The state of token usage for your instance metadata requests
- **iam_instance_profile** (String) AWS IAM Instance Profile
- **insecure_transport** (Boolean) Disable SSL when sending requests
- **instance_type** (String) AWS instance type
- **keypair_name** (String) AWS keypair to use; requires --amazonec2-ssh-keypath
- **kms_key** (String) Custom KMS key ID using the AWS Managed CMK
- **monitoring** (Boolean) Set this flag to enable CloudWatch monitoring
- **open_port** (List of String) Make the specified port number accessible from the Internet
- **private_address_only** (Boolean) Only use a private IP address
- **request_spot_instance** (Boolean) Set this flag to request spot instance
- **retries** (String) Set retry count for recoverable failures (use -1 to disable)
- **root_size** (String) AWS root disk size (in GB)
- **secret_key** (String, Sensitive) AWS Secret Key
- **security_group_readonly** (Boolean) Skip adding default rules to security groups
- **session_token** (String, Sensitive) AWS Session Token
- **spot_price** (String) AWS spot instance bid price (in dollar)
- **ssh_key_contents** (String, Sensitive) SSH Key file contents for sshKeyContents
- **ssh_user** (String) Set the name of the ssh user
- **tags** (String) AWS Tags (e.g. key1,value1,key2,value2)
- **use_ebs_optimized_instance** (Boolean) Create an EBS optimized instance
- **use_private_address** (Boolean) Force the usage of private IP address
- **userdata** (String) Path to file with cloud-init user data
- **volume_type** (String) Amazon EBS volume type


<a id="nestedblock--azure_config"></a>
### Nested Schema for `azure_config`

Optional:

- **accelerated_networking** (Boolean) Use Accelerated Networking when creating a network interface for the Azure VM
- **availability_set** (String) Azure Availability Set to place the virtual machine into
- **availability_zone** (String) The Availability Zone that the Azure VM should be created in
- **client_id** (String, Sensitive) Azure Service Principal Account ID (optional, browser auth is used if not specified)
- **client_secret** (String, Sensitive) Azure Service Principal Account password (optional, browser auth is used if not specified)
- **custom_data** (String) Path to file with custom-data
- **disk_size** (String) Disk size if using managed disk
- **dns** (String) A unique DNS label for the public IP adddress
- **docker_port** (String) Port number for Docker engine
- **environment** (String) Azure environment (e.g. AzurePublicCloud, AzureChinaCloud)
- **fault_domain_count** (String) Fault domain count to use for availability set
- **image** (String) Azure virtual machine OS image
- **location** (String) Azure region to create the virtual machine
- **managed_disks** (Boolean) Configures VM and availability set for managed disks
- **no_public_ip** (Boolean) Do not create a public IP address for the machine
- **nsg** (String) Azure Network Security Group to assign this node to (accepts either a name or resource ID, default is to create a new NSG for each machine)
- **open_port** (List of String) Make the specified port number accessible from the Internet
- **private_address_only** (Boolean) Only use a private IP address
- **private_ip_address** (String) Specify a static private IP address for the machine
- **resource_group** (String) Azure Resource Group name (will be created if missing)
- **size** (String) Size for Azure Virtual Machine
- **ssh_user** (String) Username for SSH login
- **static_public_ip** (Boolean) Assign a static public IP address to the machine
- **storage_type** (String) Type of Storage Account to host the OS Disk for the machine
- **subnet** (String) Azure Subnet Name to be used within the Virtual Network
- **subnet_prefix** (String) Private CIDR block to be used for the new subnet, should comply RFC 1918
- **subscription_id** (String, Sensitive) Azure Subscription ID
- **tags** (String) Tags to be applied to the Azure VM instance (e.g. key1,value1,key2,value2)
- **tenant_id** (String, Sensitive) Azure Tenant ID
- **update_domain_count** (String) Update domain count to use for availability set
- **use_private_ip** (Boolean) Use private IP address of the machine to connect
- **use_public_ip_standard_sku** (Boolean) Use the standard SKU when creating a Public IP for the Azure VM instance
- **vnet** (String) Azure Virtual Network name to connect the virtual machine (in [resourcegroup:]name format)


<a id="nestedblock--digitalocean_config"></a>
### Nested Schema for `digitalocean_config`

Optional:

- **access_token** (String, Sensitive) Digital Ocean access token
- **backups** (Boolean) Enable backups for droplet
- **image** (String) Digital Ocean Image
- **ipv6** (Boolean) Enable ipv6 for droplet
- **monitoring** (Boolean) Enable monitoring for droplet
- **private_networking** (Boolean) Enable private networking for droplet
- **region** (String) Digital Ocean region
- **size** (String) Digital Ocean size
- **ssh_key_contents** (String, Sensitive) SSH private key contents
- **ssh_key_fingerprint** (String, Sensitive) SSH key fingerprint
- **ssh_port** (String) SSH port
- **ssh_user** (String) SSH username
- **tags** (String) Comma-separated list of tags to apply to the Droplet
- **userdata** (String) Path to file with cloud-init user-data


<a id="nestedblock--harvester_config"></a>
### Nested Schema for `harvester_config`

Required:

- **image_name** (String) Image name
- **network_name** (String) Network name
- **ssh_user** (String) SSH username
- **vm_namespace** (String) Virtual machine namespace

Optional:

- **cpu_count** (String) CPU count
- **disk_bus** (String) Disk bus
- **disk_size** (String) Disk size (in GiB)
- **memory_size** (String) Memory size (in GiB)
- **network_data** (String) NetworkData content of cloud-init, base64 is supported
- **network_model** (String) Network model
- **ssh_password** (String, Sensitive) SSH password
- **user_data** (String) UserData content of cloud-init, base64 is supported
- **vm_affinity** (String) VM affinity, base64 is supported


<a id="nestedblock--linode_config"></a>
### Nested Schema for `linode_config`

Optional:

- **authorized_users** (String) Linode user accounts (seperated by commas) whose Linode SSH keys will be permitted root access to the created node
- **create_private_ip** (Boolean) Create private IP for the instance
- **docker_port** (String) Docker Port
- **image** (String) Specifies the Linode Instance image which determines the OS distribution and base files
- **instance_type** (String) Specifies the Linode Instance type which determines CPU, memory, disk size, etc.
- **label** (String) Linode Instance Label
- **region** (String) Specifies the region (location) of the Linode instance
- **root_pass** (String, Sensitive) Root Password
- **ssh_port** (String) Linode Instance SSH Port
- **ssh_user** (String) Specifies the user as which docker-machine should log in to the Linode instance to install Docker.
- **stackscript** (String) Specifies the Linode StackScript to use to create the instance
- **stackscript_data** (String) A JSON string specifying data for the selected StackScript
- **swap_size** (String) Linode Instance Swap Size (MB)
- **tags** (String) A comma separated list of tags to apply to the the Linode resource
- **token** (String, Sensitive) Linode API Token
- **ua_prefix** (String) Prefix the User-Agent in Linode API calls with some 'product/version'


<a id="nestedblock--openstack_config"></a>
### Nested Schema for `openstack_config`

Required:

- **auth_url** (String)
- **availability_zone** (String)
- **region** (String)

Optional:

- **active_timeout** (String)
- **application_credential_id** (String)
- **application_credential_name** (String)
- **application_credential_secret** (String, Sensitive)
- **boot_from_volume** (Boolean)
- **cacert** (String)
- **config_drive** (Boolean)
- **domain_id** (String)
- **domain_name** (String)
- **endpoint_type** (String)
- **flavor_id** (String)
- **flavor_name** (String)
- **floating_ip_pool** (String)
- **image_id** (String)
- **image_name** (String)
- **insecure** (Boolean)
- **ip_version** (String)
- **keypair_name** (String)
- **net_id** (String)
- **net_name** (String)
- **nova_network** (Boolean)
- **password** (String, Sensitive)
- **private_key_file** (String, Sensitive)
- **sec_groups** (String)
- **ssh_port** (String)
- **ssh_user** (String)
- **tenant_domain_id** (String)
- **tenant_domain_name** (String)
- **tenant_id** (String)
- **tenant_name** (String)
- **user_data_file** (String)
- **user_domain_id** (String)
- **user_domain_name** (String)
- **username** (String)
- **volume_device_path** (String)
- **volume_id** (String)
- **volume_name** (String)
- **volume_size** (String)
- **volume_type** (String)


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- **create** (String)
- **delete** (String)
- **update** (String)


<a id="nestedblock--vsphere_config"></a>
### Nested Schema for `vsphere_config`

Optional:

- **boot2docker_url** (String) vSphere URL for boot2docker image
- **cfgparam** (List of String) vSphere vm configuration parameters (used for guestinfo)
- **clone_from** (String) If you choose creation type clone a name of what you want to clone is required
- **cloud_config** (String) Filepath to a cloud-config yaml file to put into the ISO user-data
- **cloudinit** (String) vSphere cloud-init filepath or url to add to guestinfo
- **content_library** (String) If you choose to clone from a content library template specify the name of the library
- **cpu_count** (String) vSphere CPU number for docker VM
- **creation_type** (String) Creation type when creating a new virtual machine. Supported values: vm, template, library, legacy
- **custom_attributes** (List of String) vSphere custom attributes, format key/value e.g. '200=my custom value'
- **datacenter** (String) vSphere datacenter for virtual machine
- **datastore** (String) vSphere datastore for virtual machine
- **datastore_cluster** (String) vSphere datastore cluster for virtual machine
- **disk_size** (String) vSphere size of disk for docker VM (in MB)
- **folder** (String) vSphere folder for the docker VM. This folder must already exist in the datacenter
- **hostsystem** (String) vSphere compute resource where the docker VM will be instantiated. This can be omitted if using a cluster with DRS
- **memory_size** (String) vSphere size of memory for docker VM (in MB)
- **network** (List of String) vSphere network where the virtual machine will be attached
- **password** (String, Sensitive) vSphere password
- **pool** (String) vSphere resource pool for docker VM
- **ssh_password** (String, Sensitive) If using a non-B2D image you can specify the ssh password
- **ssh_port** (String) If using a non-B2D image you can specify the ssh port
- **ssh_user** (String) If using a non-B2D image you can specify the ssh user
- **ssh_user_group** (String) If using a non-B2D image the uploaded keys will need chown'ed, defaults to staff e.g. docker:staff
- **tags** (List of String) vSphere tags id e.g. urn:xxx
- **username** (String) vSphere username
- **vapp_ip_allocation_policy** (String) vSphere vApp IP allocation policy. Supported values are: dhcp, fixed, transient and fixedAllocated
- **vapp_ip_protocol** (String) vSphere vApp IP protocol for this deployment. Supported values are: IPv4 and IPv6
- **vapp_property** (List of String) vSphere vApp properties
- **vapp_transport** (String) vSphere OVF environment transports to use for properties. Supported values are: iso and com.vmware.guestInfo
- **vcenter** (String) vSphere IP/hostname for vCenter
- **vcenter_port** (String) vSphere Port for vCenter


